@import _root_.controllers.AssetsFinder
@import pl.edu.agh.msc.auth.user.User
@import pl.edu.agh.msc.auth.views.html.main
@import pl.edu.agh.msc.ui.controllers.routes
@import play.twirl.api.Html
@import org.webjars.play.WebJarsUtil
@import play.api.i18n.Messages
@import play.api.mvc.RequestHeader
@import pl.edu.agh.msc.cart.Cart
@import pl.edu.agh.msc.review.Rating
@import pl.edu.agh.msc.availability.Availability
@import pl.edu.agh.msc.products.{ ProductId, ProductShort }
@import java.time.format.{ DateTimeFormatter, FormatStyle }
@import views.html.helper.CSRF

@(cart: Cart, products: Map[ProductId, ProductShort])(implicit user: Option[User], request: RequestHeader, messages: Messages, webJarsUtil: WebJarsUtil, assets: AssetsFinder)

@main(s"Simple Shop - Cart", user) {

    <table class="table table-striped">
        <tr>
            <th></th>
            <th>Name</th>
            <th>Amount</th>
            <th>Price</th>
        </tr>
        @for(item <- cart.items) {
            <tr>
                <td><img src="@products(item.product).photo.getOrElse { @assets.path("images/placeholder.jpg") }"></td>
                <td>@products(item.product).name</td>
                <td>@item.amount</td>
                <td>@products(item.product).price.value.toString</td>
            </tr>
        }
    </table>

}
